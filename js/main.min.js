
$(document).ready(function(){function j(a){$(".gall-category").each(function(){var e=$(this).data("name");e!==a?($(this).addClass("default"),$(this).removeClass("active")):($(this).addClass("active"),$(this).removeClass("default"))})}function v(){"inline-block"===$(".home-page-extra").css("display")&&($(".home-page-extra").hide("slow"),$("#view-home-text").text("show more...")),"none"===$(".home-page-extra").css("display")&&($(".home-page-extra").show("slow"),$("#view-home-text").text("hide..."))}function m(i){var a=0;return i>174&&(a=parseInt((parseInt(i)-174)/2)),a}function y(i){var a;i.data("imagelink")&&(a=i.data("imagelink"),i.css("cursor","pointer"),i.click(function(){window.location=a}))}function q(a){$(a+" .gall-category").click(function(){var e=$(this).data("name");j(e),"allphotos"===e&&($("#gall-title").text("Gallery"),$(".gallery-display").each(function(){$(this).show("slow")})),"allphotos"!==e&&($("#gall-title").text(e+" Gallery"),$(".gallery-display").each(function(){var i=$(this).data("gallname");e!==i?$(this).hide("slow"):$(this).show("slow")}))})}$(window).resize(function(){l()});l();$(function(){h();g();u();w()});$(window).scroll(p);function p(){if($("#cart-box").length>0){var i=$(window).scrollTop(),e=$(".header-container").height();var a=($(".c-pad-sm-none").width());if(i>e){$("#cart-box").css({position:"fixed","z-index":"10",top:"0",width:a,"box-shadow":"0px 6px 6px -6px #222"})}else{$("#cart-box").removeAttr("style")}}}function w(){$(window).resize(function(){var a=$(window).width();if(a>641){$("#mobile-action").hide();$("#mobile-basket").hide()}})}function l(){var e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var i=$(window).width();if((i>420)&&(i<900)){$(".opentimes .opd").each(function(a,o){$(this).text(e[a])})}var n=((i>420)&&(i<900))?'<i class="fa fa-shopping-cart"></i> Basket':'<i class="fa fa-shopping-cart"></i> Shopping basket';$(".header-basket-custom").html(n)}function h(){var i=$(".header-basket span").text();var e=i.split(" ");var o=(e[2]==="basketYou"&&e[3]==="have")?e[4]:0;$(".nav-menu-basket-number").text(o)}function x(a,e){if($("#mobile-action").css("display")==="none"){$(a).hide();$("#mobile-action").attr("data-ma","")}else{$(a).show();$("#mobile-action").attr("data-ma",e)}}function k(o,a){var e=$("#mobile-action").attr("data-ma");if((o!==e)&&e!==""){$("#mobile-action").slideUp(function(){$("#mobile-action").html(a)});$("#mobile-action").attr("data-ma","")}else{$("#mobile-action").html(a)}}function u(){$(".main-nav-menu-basket").click(function(){var a=$(".header-basket").html();$("#mobile-basket .header-basket-mobile").html(a);$("#mobile-basket").slideToggle("slow",function(){if($("#mobile-action").css("display")!=="none"){$("#mobile-action").slideUp()}if($(".main-nav").css("display")!=="none"){$(".main-nav").slideUp()}})})}function g(){$(".main-nav-menu-extras li span").click(function(){var a=$(this).data("m");$.get("/load/home",function(o){var n=$(o);var e=n.find("#mv-"+a).html();if(a==="search"&&$(".product-list-options").length>0){e+='<div class="round-drop product-list-options">'+$(".product-list-options").html()+"</div>"}if(e.length>0){k(a,e);q(".round-drop");$("#mobile-action").slideToggle("slow",function(){x($(this),a);if($(".main-nav").css("display")!=="none"){$(".main-nav").slideUp()}if($("#mobile-basket").css("display")!=="none"){$("#mobile-basket").slideUp()}})}})})}$(".main-nav-menu-icon").click(function(){$(".main-nav").slideToggle("slow",function(){($(".main-nav").css("display")==="none")?$(this).hide():$(this).show();if($("#mobile-action").css("display")!=="none"){$("#mobile-action").slideUp()}if($("#mobile-basket").css("display")!=="none"){$("#mobile-basket").slideUp()}})});$(".gallery-wrapper .thumbnail-img-inner").click(function(){window.location="/gallery/"});$(document).foundation(),$("input[name=prod-price]").change(function(){$(this).is("#price-custom")?$("#custom-product-price").removeAttr("disabled"):$("#custom-product-price").attr("disabled","disabled")}),$("#custom-product-price").on("keyup mouseup",function(){$("#price-custom").val($(this).val())}),$(".product-image-link, .gallery-image-link").magnificPopup({type:"image",gallery:{enabled:!0}}),$(".product-list-product-name").each(function(){var a=$(this).text();textlen=a.length,fontsizes=textlen>=19&&23>textlen?"0.82rem":"0.9rem",fontsizes=textlen>=23&&25>=textlen?"0.75rem":fontsizes,fontsizes=textlen>25&&30>=textlen?"0.7rem":fontsizes,newfontsizes=textlen>30?"0.6rem":fontsizes,$(this).css("font-size",newfontsizes)}),$("#view-home-text").click(function(){v()}),q(".gallery-description"),$(".home-product-title").each(function(){var a=$(this).text();textlen=a.length,fontsizes=textlen>=23&&30>=textlen?"0.7rem":"0.9rem",newfontsizes=textlen>30?"0.6rem":fontsizes,$(this).css("font-size",newfontsizes)}),$(location).attr("href");var f=window.location.pathname,d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];if("/areas/"===f){areas=$(".main-text-blocks").find("p:first").text(),hfirst=$(".main-text-blocks").find(":header:first").text(),otherareas=$(".main-text-blocks").find("p:last").text(),hlast=$(".main-text-blocks").find(":header:last").text(),address=$(".footer-address").find("p").html(),center=address.replace(/<br>/g,","),replaceareas=areas.replace(/We deliver to the following areas./g,""),areasarray=replaceareas.split(","),googlemap="http://maps.googleapis.com/maps/api/staticmap?center="+center+"&zoom=10&size=500x520&maptype=roadmap",newareas="<h2>"+hfirst+'</h2><div style="columns:2 2em; font-size:0.7rem;"><ul>',arraycount=areasarray.length,arraycount>20&&(arraycount=20);for(var c=0,b=arraycount;b>c;c++){town=$.trim(areasarray[c]),town&&(googlemap+="&markers=color:red|label:"+d[c].toUpperCase()+"|"+town,newareas+="<li>"+d[c].toUpperCase()+".&nbsp;&nbsp;"+town+"</li>")}newareas+="</ul>",image='<img src="'+googlemap+'&sensor=false" width="500" height="520" style="float:right" /></div>',pagetext="<div>"+image+newareas+'</div><div style="clear:both;"></div><div><h2>'+hlast+"</h2><p>"+otherareas+"</p></div>",$(".main-text-blocks").html(pagetext)}$(".thumb-container img").each(function(){var i,a;a=$(this).width(),i=m(a),$(this).css({left:"-"+i})}),$("#SortSelect").length>0&&$("#SortSelect").change(function(){var o,n,i;i=$(this).val(),o=$(location).attr("pathname"),n=o+"?s="+i,location.href=n}),$(".image-link").each(function(){y($(this))});$("#pagination > a").each(function(){var e=window.location.href.slice(window.location.href.indexOf("?"));var a=$(this).attr("href");$(this).attr("href",a+e)})});